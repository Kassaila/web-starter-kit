/**
 * @file
 * Video
 *
 * Contains styles for inline video objects.
 */

.vid-inline {
  overflow: hidden;

  &__container {
    position: relative;
  }

  &__cover {
    position: relative;
    z-index: 2;
    cursor: pointer;
    opacity: 1;
    transition: 0.3s ease;

    &:focus {
      outline-offset: -4px;
    }

    &:hover {
      &:before,
      &:after {
        opacity: 1;
      }
    }

    &:before,
    &:after {
      display: block;
      position: absolute;
      left: 50%;
      top: 50%;
      content: '';
      opacity: 0.7;
    }

    &:before {
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 4px 0 4px 6.9px;
      border-color: transparent transparent transparent $color-black;
      margin-top: -2px;
      margin-left: -1px;
      z-index: 2;

      @media screen and (min-width: $break-medium) {
        border-width: 6px 0 6px 10.4px;
        margin-top: -4px;
        margin-left: -2px;
      }

      @media screen and (min-width: $break-large) {
        border-width: 8px 0 8px 13.9px;
        margin-top: -7px;
        margin-left: -4px;
      }
    }

    &:after {
      width: 48px;
      height: 48px;
      border: 1px solid $color-white;
      border-radius: 100%;
      background: $color-white;
      margin-top: -24px;
      margin-left: -24px;
      transition: 0.2s all;

      @media screen and (min-width: $break-medium) {
        width: 72px;
        height: 72px;
        margin-top: -36px;
        margin-left: -36px;
      }

      @media screen and (min-width: $break-large) {
        width: 95px;
        height: 95px;
        margin-top: -47.5px;
        margin-left: -47.5px;
      }
    }

    &.js-loading {
      &:hover {
        &:before {
          opacity: 1;
        }
      }

      &:before {
        margin: 0;
        height: 60px;
        width: 60px;
        background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns:svg=\'http://www.w3.org/2000/svg\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' version=\'1.0\' width=\'60px\' height=\'60px\' viewBox=\'0 0 128 128\' xml:space=\'preserve\'%3e%3cg%3e%3cpath d=\'M78.75 16.18V1.56a64.1 64.1 0 0 1 47.7 47.7H111.8a49.98 49.98 0 0 0-33.07-33.08zM16.43 49.25H1.8a64.1 64.1 0 0 1 47.7-47.7V16.2a49.98 49.98 0 0 0-33.07 33.07zm33.07 62.32v14.62A64.1 64.1 0 0 1 1.8 78.5h14.63a49.98 49.98 0 0 0 33.07 33.07zm62.32-33.07h14.62a64.1 64.1 0 0 1-47.7 47.7v-14.63a49.98 49.98 0 0 0 33.08-33.07z\' fill=\'%23000000\' fill-opacity=\'1\'/%3e%3canimateTransform attributeName=\'transform\' type=\'rotate\' from=\'0 64 64\' to=\'-90 64 64\' dur=\'800ms\' repeatCount=\'indefinite\'%3e%3c/animateTransform%3e%3c/g%3e%3c/svg%3e');
        background-position: center;
        background-size: contain;
        border: 0;
        transform: translate(-50%, -50%);
      }

      &:after {
        display: none;
      }
    }

    &.js-hide {
      display: block;
      z-index: 1;
      opacity: 0;
    }
  }

  &__embed {
    position: absolute;
    left: 0;
    top: 0;
    z-index: 1;
    height: 100%;
    width: 100%;
    opacity: 0;
    transition: 0.5s ease;

    &.js-show {
      z-index: 2;
      opacity: 1;
    }
  }

  iframe {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    border: 0;
  }

  &__caption {
    @extend figcaption;
  }
}
